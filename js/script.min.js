var feedbackLink=document.querySelector(".show-feedback-popup"),mapLink=document.querySelector(".show-interactive-map"),feedbackPopup=document.querySelector(".modal-feedback"),mapPopup=document.querySelector(".modal-map"),feedbackClose=feedbackPopup.querySelector(".modal-feedback .popup-close"),mapClose=mapPopup.querySelector(".modal-map .popup-close"),nameField=feedbackPopup.querySelector("[name=name]"),form=feedbackPopup.querySelector("form"),mailField=form.querySelector("[name=email]"),textField=form.querySelector("[name=feedback-text]"),isStorageSupport=!0,storageName="",storageMail="",controls=document.querySelectorAll(".slider-controls i"),productsSlider=document.querySelectorAll(".products-slider-item"),servicesButtons=document.querySelectorAll(".slider-button"),servicesSliderItems=document.querySelectorAll(".services-slider-item");try{storageName=localStorage.getItem("name"),storageMail=localStorage.getItem("mail")}catch(e){isStorageSupport=!1}feedbackLink.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.add("modal-show"),storageName||storageMail?(nameField.value=storageName,mailField.value=storageMail,textField.focus()):nameField.focus()}),feedbackClose.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.remove("modal-show"),feedbackPopup.classList.remove("modal-error")}),form.addEventListener("submit",function(e){nameField.value&&mailField.value?isStorageSupport&&(localStorage.setItem("name",nameField.value),localStorage.setItem("mail",mailField.value)):(e.preventDefault(),feedbackPopup.classList.remove("modal-error"),feedbackPopup.offsetWidth=feedbackPopup.offsetWidth,feedbackPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),feedbackPopup.classList.contains("modal-show")&&(feedbackPopup.classList.remove("modal-show"),feedbackPopup.classList.remove("modal-error")))}),mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),mapPopup.classList.contains("modal-show")&&mapPopup.classList.remove("modal-show"))});for(var i=0;i<=controls.length-1;i++){var slide=0;controls[i].addEventListener("click",function(e){if(e.preventDefault(),!e.target.classList.contains("active")){for(var s=0;s<=controls.length-1;s++)controls[s].classList.contains("active")&&controls[s].classList.remove("active"),controls[s]===e.target&&(slide=s);if(e.target.classList.add("active"),!productsSlider[slide].classList.contains("show-slide")){for(s=0;s<=productsSlider.length-1;s++)productsSlider[s].classList.contains("show-slide")&&productsSlider[s].classList.remove("show-slide");productsSlider[slide].classList.add("show-slide")}}})}for(i=0;i<=servicesButtons.length-1;i++){var servicesSlide=0;servicesButtons[i].addEventListener("click",function(e){if(e.preventDefault(),!e.target.classList.contains("active-item")){for(var s=0;s<=servicesButtons.length-1;s++)servicesButtons[s].classList.contains("active-item")&&servicesButtons[s].classList.remove("active-item"),servicesButtons[s]===e.target&&(servicesSlide=s);if(e.target.classList.add("active-item"),!servicesSliderItems[servicesSlide].classList.contains("services-active-item")){for(s=0;s<=servicesSliderItems.length-1;s++)servicesSliderItems[s].classList.contains("services-active-item")&&servicesSliderItems[s].classList.remove("services-active-item");servicesSliderItems[servicesSlide].classList.add("services-active-item")}}})}